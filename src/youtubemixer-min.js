function onYouTubeIframeAPIReady(){youtubeMixer.onAPIReady()}var youtubeMixer=new function(){"use strict";function e(e){return e[e.length-1]}function t(e,t){return"undefined"!=typeof e?e:t}function n(){var e,t;w=window.innerWidth,b=window.innerHeight;var n=w/b;if(y.style.width=w+"px",y.style.height=b+"px",p.style.width=w+"px",p.style.height=b+"px",F)for(t=0;t<E.length;t++)V[t].style.left=420*t+"px",V[t].style.top="20px",E[t].setSize(400,260);else for(t=V.length;t-->0;)M>n?(e=b*M,E[t].setSize(Math.ceil(e),b),V[t].style.left=-Math.ceil((e-w)/2)+"px",V[t].style.top="0px"):(e=w/M,E[t].setSize(w,Math.ceil(e)),V[t].style.top=-Math.ceil((e-b)/2)+"px",V[t].style.left="0px");null!=v&&(v.style.top=b-R+"px"),P.eventHandler("resize",[w,b])}function i(){if(E.length>=2)return void console.error("Cannot load a new video to play, There is already a video waiting to play.");if(0==B.length)return void console.warn("No videos to play!");C>=B.length&&(C=0);var e=B[C++];return 1==e.once&&1==e.hasPlayed?void i():(a(e),void(e.hasPlayed=!0))}function a(e){var t=document.createElement("div");y.appendChild(t);var n=new YT.Player(t,{videoId:e.id,playerVars:{autoplay:1,controls:0,disablekb:1,iv_load_policy:3,showinfo:0,rel:0,start:e.start},events:{onReady:l,onStateChange:o}});n.param=e,n.isBuffering=!1,n.firstPlay=!0;var i=n.getIframe();F?i.style.opacity=.4:(i.style.opacity=0,i.style.visibility="hidden"),i.style.position="absolute",i.style.transition="opacity "+A+"s ease-out",i.addEventListener("webkitTransitionEnd",r),E.push(n),V.push(i),P.eventHandler("video-loading",[e.id])}function l(){for(var t=e(E),i=0;i<V.length;i++)V[i].style.zIndex=i+1;t.setVolume(0),t.setPlaybackQuality(_),F&&n(),null==f?(f=t,f.firstPlay=!0,t.playVideo(),W&&t.setVolume(100),P.eventHandler("video-buffering")):(c=t,c.holdPlay=!0,c.playVideo(),P.eventHandler("video-ready",[t.param.id]))}function o(t){if(t.data==YT.PlayerState.PLAYING){if(1==f.isBuffering&&(P.eventHandler("video-play",[t.target.param.id]),f.isBuffering=!1),0==t.target.firstPlay)return;if(null==T&&P.eventHandler("video-play-first"),1==t.target.holdPlay)return t.target.holdPlay=!1,void t.target.pauseVideo();t.target.firstPlay=!1;var i=e(E),a=i.getIframe().style;n(),a.visibility="visible",a.opacity=1;var l=i.getDuration();g=i.param.end>0?i.param.end:i.param.playfor>0?i.param.start+i.param.playfor:l,g>l&&(console.warn("Requested END time for video exceeds real end time, reseting value."),g=l),i.param.start>g&&(console.warn("Requested START time can't be higher than END TIME, reseting value."),i.param.start=0),m=g-i.param.start,h=0,T=i,u(0),W&&s(),null==H&&(H=setInterval(d,100)),P.eventHandler("video-play",[i.param.id]),P.eventHandler("playlist-update",[C,B.length])}else t.data==YT.PlayerState.BUFFERING&&t.target==f&&(f.isBuffering=!0,P.eventHandler("video-buffering"))}function r(){if(1==N){null!=z&&(clearInterval(z),z=null);var e=E.shift(),t=V.shift();y.removeChild(t),e.destroy(),f=c,c=null,N=!1,W&&f.setVolume(100),P.eventHandler("swap-end")}i()}function d(){1!=f.isBuffering&&(h+=.1,u(Math.ceil(h/m*100)),.1>=h%1&&P.eventHandler("time-update",[Math.ceil(h),m]),N||h+A>m&&P.playNextVideo())}function s(){return null!=c?(x=0,k=100,null!=z?void console.warn("A crossfade is still in progress, skipping"):void(z=setInterval(function(){x+=I,x>=100&&(x=100,clearInterval(z),z=null),k=100-x,f.setVolume(k),c.setVolume(x)},D))):void 0}function u(e){v.style.width=e+"%"}var y,p,v,f,c,h,g,m,w,b,H,I,x,P=this,T=null,E=[],V=[],B=[],C=0,M=16/9,N=!1,z=null,k=0,A=2,R=10,S="#F00",D=80,Y=!0,W=!1,q=!0,F=!1,_="default";this.eventHandler=function(){},this.playlistPush=function(e,t){null==t&&(t={});var n={};n.id=e,n.start=t.start||0,n.playfor=t.playfor||0,n.end=t.end||0,n.once=t.once||!1,n.playfor>0&&n.end>0&&(console.warn("Can't have both 'playfor' and 'end' parameters set, ignoring 'playfor'"),n.playfor=0),B.push(n)},this.onAPIReady=function(){this.eventHandler("api-ok"),i()},this.init=function(e){if(null==e&&(e={}),F=t(e.debug,F),_=t(e.quality,_),W=t(e.audio,W),q=t(e.fullpage,q),Y=t(e.useProgressBar,Y),q?(y=document.createElement("div"),e.elementID?(p=document.getElementById(e.elementID),p.parentNode.removeChild(p)):p=document.createElement("div"),y.appendChild(p),y.style.position="absolute",y.style.margin=0,y.style.padding=0,y.style.overflow="hidden",p.style.position="relative",p.style.zIndex=4,p.style.overflowX="hidden",document.body.appendChild(y),window.onresize=n):(y=document.getElementById(e.elementID),window.onresize=function(){},w=y.clientWidth,b=y.clientHeight),1==Y?(v=document.createElement("div"),v.style.position="relative",v.style.opacity=.6,v.style.height=R+"px",v.style.display="block",v.style.backgroundColor=S,v.style.zIndex=3,v.style.top=b-R+"px",v.style.left="0px",v.style.width=0,document.body.appendChild(v)):u=function(){},n(),e.debugUI)return null!=v&&u(90),P.eventHandler("api-loading"),setTimeout(function(){P.eventHandler("api-ok")},700),setTimeout(function(){P.eventHandler("video-loading")},1e3),setTimeout(function(){P.eventHandler("video-ready")},2e3),setTimeout(function(){P.eventHandler("video-buffering")},3e3),setTimeout(function(){P.eventHandler("video-play-first")},4e3),void setTimeout(function(){P.eventHandler("video-play")},4100);n();var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(i,a),this.eventHandler("api-loading"),I=Math.ceil(100/(1e3*A/D))},this.playNextVideo=function(){return 1==N?void console.warn("Was already swapping videos, returning."):null==c?void console.error("Waiting video is not ready!!, returning."):(P.eventHandler("swap-start"),N=!0,c.holdPlay=!1,c.playVideo(),void P.eventHandler("video-buffering"))},this.setAudio=function(e){W=e,null!=f&&f.setVolume(W?100:0)},this.getAudio=function(){return W},this.version="0.11"};